configfile: "config/config.yaml"
pepfile: config["pepfile"]

include: "rules/common.smk"
include: "rules/utils.smk"
include: "rules/ref.smk"
include: "rules/qc.smk"
include: "rules/strain_calling.smk"
include: "rules/read_mapping.smk"
include: "rules/variant_calling.smk"
include: "rules/variant_annotation.smk"

rule all:
    input:
        "results/qc/multiqc.html",
        expand("results/calls/{sample}.bcf", sample=get_samples())